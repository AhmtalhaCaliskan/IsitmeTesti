<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°ÅŸitme Testi - Kulak SagÄ±lÄ±ÄŸÄ± KontrolÃ¼</title>
    <link rel="stylesheet" href="styles.css">
    <!-- PDF KÃ¼tÃ¼phanesi -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- BaÅŸlÄ±k SayfasÄ± -->
        <div id="welcomeScreen" class="screen active">
            <div class="welcome-content">
                <h1>ğŸ‘‚ Ä°ÅŸitme Testi</h1>
                <p>KulaklarÄ±nÄ±zÄ±n saÄŸlÄ±ÄŸÄ±nÄ± profesyonel olarak kontrol edin</p>
                
                <div class="info-section">
                    <h2>ğŸ¯ Test HakkÄ±nda</h2>
                    <p>Bu test, kulaÄŸÄ±nÄ±zÄ±n <strong>farklÄ± frekanslarÄ±</strong> ne kadar iyi duyabÄ±ldÄ±ÄŸÄ±nÄ± profesyonel ÅŸekilde kontrol eder. SaÄŸ ve sol kulaÄŸÄ±nÄ±z ayrÄ± ayrÄ± <strong>31 farklÄ± frekans</strong> ile test edilecek, 40 Hz'e kadar dÃ¼ÅŸÃ¼k frekanslara sahip olacaksÄ±nÄ±z.</p>
                    
                    <div class="form-group">
                        <label for="ageInput">ğŸ“… YaÅŸÄ±nÄ±z (zorunlu):</label>
                        <input type="number" id="ageInput" min="1" max="120" value="30" placeholder="YaÅŸÄ±nÄ±zÄ± girin">
                    </div>
                    
                    <div class="frequency-info">
                        <h3>ğŸ“Š Test KapsamÄ±:</h3>
                        <p>âœ… <strong>31 frekans aralÄ±ÄŸÄ±</strong>: 16.000 Hz - 40 Hz arasÄ±<br>
                        âœ… <strong>Sol kulak testi</strong> + <strong>SaÄŸ kulak testi</strong> (ayrÄ± ayrÄ±)<br>
                        âœ… <strong>YaÅŸa uygun</strong> test parametreleri<br>
                        âœ… <strong>Profesyonel audiogram</strong> grafiÄŸi<br>
                        âœ… <strong>Odyolog/KBB tavsiyesi</strong></p>
                    </div>
                </div>
                
                <button id="startBtn" class="btn btn-primary">ğŸš€ Teste BaÅŸla</button>
                <button id="helpBtn" class="btn btn-secondary">ğŸ“– TalimatlarÄ± Oku</button>
            </div>
        </div>

        <!-- TalimatlÄ± SayfasÄ± -->
        <div id="instructionsScreen" class="screen">
            <div class="instructions-content">
                <h2>ğŸ“‹ DetaylÄ± Talimatlar</h2>
                <div class="instructions-text">
                    <h3>âœ… Test NasÄ±l YapÄ±lÄ±r?</h3>
                    <ol>
                        <li><strong>ğŸ§ Kaliteli KulaklÄ±k</strong> - Tele uygulamasÄ± kulaklÄ±k gereklidir (hoparlÃ¶r ideal deÄŸildir)</li>
                        <li><strong>ğŸ¤« Sessiz Ortam</strong> - MÃ¼mkÃ¼n olduÄŸunca sessiz bir yerde test yapÄ±nÄ±z</li>
                        <li><strong>ğŸ”Š Ses Seviyesi</strong> - Rahat bir seviyeye ayarlayÄ±nÄ±z (yÃ¼ksek ses kulaklarÄ±nÄ±za zarar verebilir)</li>
                        <li><strong>ğŸ‘‚ Dikkat Et</strong> - Her sesin farkÄ±nda olun ve duyup duymadÄ±ÄŸÄ±nÄ±zÄ± iÅŸaretleyin</li>
                        <li><strong>ğŸ¯ DoÄŸru Kulak</strong> - Ã–nce saÄŸ kulak, sonra sol kulak test edilecek</li>
                        <li><strong>âš¡ HÄ±zlÄ± YanÄ±t</strong> - Sesin bitiminden Ã¶nce yanÄ±tlayÄ±n</li>
                    </ol>

                    <h3>ğŸ“Š SonuÃ§ Ne Olacak?</h3>
                    <p>Test sonunda, kulaklarÄ±nÄ±zÄ±n her frekansda ne kadar iyi duyabÄ±ldÄ±ÄŸÄ± gÃ¶sterilecek. EÄŸer ciddi bir iÅŸitme kaybÄ± varsa, <strong>Odyolog (Ä°ÅŸitme UzmanÄ±)</strong> veya <strong>KBB Doktoru (Kulak Burun BoÄŸaz UzmanÄ±)</strong> ziyareti Ã¶nerilecek.</p>

                    <h3>âš ï¸ Ã–NEMLÄ° UYARILAR</h3>
                    <p>
                        ğŸ”´ <strong>Bu test profesyonel deÄŸildir!</strong> GerÃ§ek audiometrik cihaz kadar doÄŸru deÄŸildir.<br>
                        ğŸ”´ <strong>Doktor yerine geÃ§mez!</strong> SonuÃ§larÄ±nÄ±zÄ± doktorla mutlaka danÄ±ÅŸÄ±nÄ±z.<br>
                        ğŸ”´ <strong>TÄ±bbi kararÄ±nÄ±z</strong> alÄ±rken bu testi tek baÅŸÄ±na kullanmayÄ±nÄ±z.<br>
                        ğŸŸ¢ <strong>BaÅŸlangÄ±Ã§ aracÄ±</strong> olarak kullanÄ±labilir.
                    </p>
                </div>
                
                <div class="button-group">
                    <button id="backToWelcomeBtn" class="btn btn-secondary">â† Geri</button>
                    <button id="continueBtn" class="btn btn-primary">Devam Et â†’</button>
                </div>
            </div>
        </div>

        <!-- Doktor UyarÄ±sÄ± Modal -->
        <div id="disclaimerModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>âš ï¸ Ã–NEMLÄ° UYARI</h2>
                </div>
                <div class="modal-body">
                    <p><strong>Bu test, tÄ±bbi tanÄ± amaÃ§lÄ± deÄŸildir!</strong></p>
                    
                    <div class="warning-section">
                        <h3>ğŸ“‹ Testin AmacÄ±:</h3>
                        <p>Bu uygulamada yapÄ±lan iÅŸitme testi, sadece <strong>tarama ve Ã¶n inceleme</strong> amaÃ§lÄ±dÄ±r. Profesyonel bir deÄŸerlendirme deÄŸildir.</p>
                    </div>
                    
                    <div class="warning-section">
                        <h3>ğŸ‘¨â€âš•ï¸ Doktor KonsÃ¼ltasyonu Zorunlu:</h3>
                        <p>IÅŸitme kaybÄ±, iÅŸitme sorunu veya rahatsÄ±zlÄ±k yaÅŸÄ±yorsanÄ±z <strong>mutlaka bir Odyolog veya KBB doktoru</strong> ile gÃ¶rÃ¼ÅŸÃ¼n.</p>
                    </div>
                    
                    <div class="warning-section">
                        <h3>ğŸ“Š Test HakkÄ±nda:</h3>
                        <ul>
                            <li>Bu test 31 farklÄ± frekansda yapÄ±lan basit bir Ã¶n inceleme testdir</li>
                            <li>Profesyonel audiometrinin yerine geÃ§mez</li>
                            <li>Kesin tanÄ± iÃ§in mutlaka doktor Ã¶nerisi alÄ±nÄ±z</li>
                            <li>SonuÃ§lar sadece referans amaÃ§lÄ±dÄ±r</li>
                        </ul>
                    </div>
                    
                    <div class="warning-section danger">
                        <h3>ğŸ”´ Dikkat:</h3>
                        <p><strong>Bu test sonucunun hiÃ§bir tÄ±bbi deÄŸeri yoktur.</strong> Herhangi bir karar vermeden Ã¶nce mutlaka profesyonel tÄ±bbi danÄ±ÅŸman alÄ±nÄ±z.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="closeDisclaimer" class="btn btn-primary">AnladÄ±m, Teste BaÅŸla ğŸ§</button>
                </div>
            </div>
        </div>
        
        <!-- Test SayfasÄ± -->
        <div id="testScreen" class="screen">
            <div class="test-content">
                <div class="test-header">
                    <h2 id="testTitle">ğŸ§ SaÄŸ Kulak Testi</h2>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                    <p id="progressText">ğŸ“ Frekans: <span id="currentFreq">16000</span> Hz</p>
                </div>

                <div class="head-container">
                    <svg id="headSvg" viewBox="0 0 320 420" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <!-- Gradyanlar -->
                            <linearGradient id="skinGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#f5d5b8;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#d4a574;stop-opacity:1" />
                            </linearGradient>
                            
                            <linearGradient id="earmuffsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#c41e3a;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8b0000;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Boyun -->
                        <rect x="135" y="210" width="50" height="60" fill="url(#skinGradient)" stroke="#c9a875" stroke-width="1.5" rx="8"/>
                        
                        <!-- Kafa (BaÅŸÄ±n ana kÄ±smÄ±) -->
                        <circle cx="160" cy="130" r="75" fill="url(#skinGradient)" stroke="#c9a875" stroke-width="2"/>
                        
                        <!-- YÃ¼z Ã¶n planÄ± (KÃ¼Ã§Ã¼k circle overlay) -->
                        <circle cx="160" cy="140" r="60" fill="url(#skinGradient)" stroke="none" opacity="0.3"/>
                        
                        <!-- Sol Kulak (Headphone) -->
                        <g id="leftEar">
                            <circle cx="75" cy="120" r="18" fill="url(#earmuffsGradient)" stroke="#5a0000" stroke-width="2"/>
                            <circle cx="75" cy="120" r="12" fill="#2c1819" stroke="none"/>
                            <circle cx="75" cy="120" r="8" fill="#1a1010" stroke="none" opacity="0.6"/>
                        </g>
                        
                        <!-- SaÄŸ Kulak (Headphone) -->
                        <g id="rightEar">
                            <circle cx="245" cy="120" r="18" fill="url(#earmuffsGradient)" stroke="#5a0000" stroke-width="2"/>
                            <circle cx="245" cy="120" r="12" fill="#2c1819" stroke="none"/>
                            <circle cx="245" cy="120" r="8" fill="#1a1010" stroke="none" opacity="0.6"/>
                        </g>
                        
                        <!-- Headband Ã‡ubuÄŸu -->
                        <path d="M 85 75 Q 160 30 235 75" stroke="#8b4513" stroke-width="6" fill="none" stroke-linecap="round"/>
                        <path d="M 85 75 Q 160 35 235 75" stroke="#a0522d" stroke-width="3" fill="none" stroke-linecap="round" opacity="0.6"/>
                        
                        <!-- GÃ¶zler -->
                        <circle cx="130" cy="110" r="7" fill="#2c3e50" stroke="#1a1a1a" stroke-width="1"/>
                        <circle cx="130" cy="108" r="3" fill="white" opacity="0.8"/>
                        
                        <circle cx="190" cy="110" r="7" fill="#2c3e50" stroke="#1a1a1a" stroke-width="1"/>
                        <circle cx="190" cy="108" r="3" fill="white" opacity="0.8"/>
                        
                        <!-- Eyebrows -->
                        <path d="M 120 95 Q 130 90 140 95" stroke="#8b6914" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <path d="M 180 95 Q 190 90 200 95" stroke="#8b6914" stroke-width="2" fill="none" stroke-linecap="round"/>
                        
                        <!-- Burun -->
                        <path d="M 160 115 L 155 140 L 160 142 L 165 140 Z" fill="#d4a574" stroke="#c9a875" stroke-width="1"/>
                        <circle cx="153" cy="142" r="2.5" fill="#b08968" opacity="0.7"/>
                        <circle cx="167" cy="142" r="2.5" fill="#b08968" opacity="0.7"/>
                        
                        <!-- AÄŸÄ±z (GÃ¼lÃ¼ÅŸ) -->
                        <path d="M 135 165 Q 160 185 185 165" stroke="#b85c5c" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                        
                        <!-- AÄŸÄ±z dolgusu (Hafif) -->
                        <path d="M 135 165 Q 160 178 185 165" fill="#f0c8c8" opacity="0.4"/>
                        
                        <!-- Yanaklar (Blush) -->
                        <circle cx="110" cy="145" r="12" fill="#d4949f" opacity="0.4"/>
                        <circle cx="210" cy="145" r="12" fill="#d4949f" opacity="0.4"/>
                        
                        <!-- SaÃ§ (Ãœst) -->
                        <path d="M 90 80 Q 160 20 230 80" fill="#4a3728" stroke="#3a2818" stroke-width="1"/>
                        <path d="M 90 80 Q 160 40 230 80" fill="#6b5437" opacity="0.5"/>
                        
                        <!-- SaÃ§ detaylarÄ± (Sol) -->
                        <path d="M 95 90 Q 100 60 110 85" stroke="#4a3728" stroke-width="1.5" fill="none" opacity="0.6"/>
                        <path d="M 105 85 Q 110 55 120 85" stroke="#4a3728" stroke-width="1.5" fill="none" opacity="0.6"/>
                        
                        <!-- SaÃ§ detaylarÄ± (SaÄŸ) -->
                        <path d="M 225 90 Q 220 60 210 85" stroke="#4a3728" stroke-width="1.5" fill="none" opacity="0.6"/>
                        <path d="M 215 85 Q 210 55 200 85" stroke="#4a3728" stroke-width="1.5" fill="none" opacity="0.6"/>
                        
                        <!-- Ã‡ene detayÄ± -->
                        <path d="M 100 190 Q 160 210 220 190" stroke="#c9a875" stroke-width="1" fill="none" opacity="0.5"/>
                    </svg>
                </div>

                <div class="test-controls">
                    <div class="sound-indicator">
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                        <div class="sound-bar"></div>
                    </div>
                    
                    <div class="button-group">
                        <button id="heardBtn" class="btn btn-success">âœ… Sesi Duydum</button>
                        <button id="notHeardBtn" class="btn btn-danger">âŒ Sesi DuymadÄ±m</button>
                    </div>
                    
                    <button id="pauseBtn" class="btn btn-secondary">â¸ï¸ Durdur</button>
                </div>

                <div class="ear-indicator">
                    <p id="earInfo">ğŸ§ SaÄŸ kulak test ediliyor...</p>
                </div>
            </div>
        </div>

        <!-- SonuÃ§ SayfasÄ± -->
        <div id="resultsScreen" class="screen">
            <div class="results-content">
                <h2>ğŸ“Š Test SonuÃ§larÄ±nÄ±z</h2>
                
                <div class="results-container">
                    <div class="ear-result">
                        <h3>ğŸ‘‚ SaÄŸ Kulak</h3>
                        <div id="rightEarResults" class="result-text"></div>
                    </div>
                    
                    <div class="ear-result">
                        <h3>ğŸ‘‚ Sol Kulak</h3>
                        <div id="leftEarResults" class="result-text"></div>
                    </div>
                </div>

                <div class="audiogram">
                    <h3>ğŸ“ˆ Ä°ÅŸitme GrafiÄŸi (Audiogram)</h3>
                    <canvas id="audiogramChart" width="600" height="400"></canvas>
                </div>

                <div id="recommendationBox" class="recommendation-box">
                    <h3>ğŸ‘¨â€âš•ï¸ Doktor Ziyareti Tavsiyesi</h3>
                    <p id="recommendationText"></p>
                </div>

                <div class="button-group">
                    <button id="restartBtn" class="btn btn-primary">ğŸ”„ Tekrar Test Et</button>
                    <button id="downloadBtn" class="btn btn-secondary">â¬‡ï¸ SonuÃ§larÄ± Ä°ndir</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
